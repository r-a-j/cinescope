<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="goHome()">
        <ion-icon name="arrow-back-outline" slot="start"></ion-icon>
      </ion-button>
    </ion-buttons>
    <ion-title>Settings</ion-title>
  </ion-toolbar>
</ion-header>
<ion-content [fullscreen]="true">
  <ion-card>
    <ion-card-header>
      <ion-card-title>TMDB API Key</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-item>
        <ion-input
          type="text"
          [(ngModel)]="tmdbApiKey"
          placeholder="Enter your API key"
        >
        </ion-input>
        <ion-button
          slot="end"
          fill="clear"
          size="small"
          (click)="pasteApiKey()"
        >
          Paste
        </ion-button>
      </ion-item>
      <ion-button expand="block" (click)="saveApiKey()">
        Save API Key
      </ion-button>
      <ion-button
        *ngIf="showGetNewKey"
        expand="block"
        color="danger"
        (click)="goToTMDB()"
      >
        Get New API Key from TMDB
      </ion-button>
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-header>
      <ion-card-title>Clear list</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <div class="button-container">
        <ion-button (click)="confirmClearWatchlist()">Watchlist</ion-button>
        <ion-button (click)="confirmClearWatchedList()">Watched</ion-button>
      </div>
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-header>
      <ion-card-title>Adult Content</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-item>
        <ion-label>Allow Adult Content</ion-label>
        <ion-toggle
          [(ngModel)]="allowAdultContent"
          (ionChange)="toggleAllowAdultContent()"
        ></ion-toggle>
      </ion-item>
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-header>
      <ion-card-title>Backup & Restore</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <div class="button-container">
        <ion-button (click)="createBackup()">Create Backup</ion-button>
        <ion-button color="medium" (click)="restoreBackup()"
          >Restore Backup</ion-button
        >
      </div>
      <ion-note>
        Creates a portable JSON file with your watchlist, watched, and settings.
        You can save it to Files/Drive/etc and restore later.
      </ion-note>
    </ion-card-content>
  </ion-card>

  <ion-card>
    <ion-card-header>
      <ion-card-title>About</ion-card-title>
    </ion-card-header>
    <ion-card-content>
      <ion-item>
        <ion-label>Version</ion-label>
        <ion-note slot="end">2.0.0</ion-note>
      </ion-item>
      <ion-item>
        <ion-label>Developed By</ion-label>
        <ion-note slot="end">Raj Pawar</ion-note>
      </ion-item>
      <ion-item
        button
        href="https://rajpawar.in"
        target="_blank"
        rel="noopener noreferrer"
      >
        <ion-label>Website</ion-label>
        <ion-note slot="end">rajpawar.in</ion-note>
      </ion-item>
      <ion-item
        button
        href="https://github.com/r-a-j/cine-scope"
        target="_blank"
        rel="noopener noreferrer"
      >
        <ion-label>Source code</ion-label>
        <ion-note slot="end">Github - Cinescope</ion-note>
      </ion-item>
    </ion-card-content>
  </ion-card>
</ion-content>
