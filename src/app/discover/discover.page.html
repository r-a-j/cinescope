<app-header></app-header>

<ion-toolbar class="slick-toolbar">
  <ion-segment [(ngModel)]="segmentValue" (ionChange)="segmentChanged($event)" class="slick-segment">
    <ion-segment-button value="bollywood"><ion-label>Bollywood</ion-label></ion-segment-button>
    <ion-segment-button value="topRated"><ion-label>Top Rated</ion-label></ion-segment-button>
    <ion-segment-button value="trending"><ion-label>Trending</ion-label></ion-segment-button>
    <ion-segment-button value="actors"><ion-label>Actors</ion-label></ion-segment-button>
  </ion-segment>
</ion-toolbar>

<ion-content class="ion-padding" fullscreen>
  <div class="content-layer animate__animated animate__fadeIn">
    
    <ng-container *ngFor="let section of currentSections">
      <app-media-carousel
        [title]="section.title"
        [items]="section.items"
        [viewAllRoute]="section.viewAllRoute || ''"
        [type]="section.type === 'person' ? 'movie' : section.type"> <!-- fallback for person, or update carousel to handle person -->
      </app-media-carousel>
    </ng-container>

    <!-- Empty State -->
    <div *ngIf="currentSections.length === 0" class="empty-state">
      <p>No content available for this category.</p>
    </div>

  </div>
</ion-content>